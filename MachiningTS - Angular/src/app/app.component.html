<app-spinner></app-spinner>
<nav *ngIf="isLogged" class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" routerLink="resumen"><img src="https://i.imgur.com/M0LO2BZ.png" alt="Logo" height="80px" width="200px"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
    <div class="navobaro collapse navbar-collapse" id="navbarText">

        <ul class="navbar-nav mr-auto" id="outer-nav-buttons">


            <li class="nav-item inner-nav-buttons">
                <button type="button" (click)="onLogout()" routerLink=" " routerLinkActive="active" class="button">
                    <span class="icon"><i class="fas fa-sign-out-alt"></i></span>
                    <span class="text">Cerrar Sesión</span>
                </button>
            </li>

            <li class="nav-item inner-nav-buttons">
                <button type="button" routerLinkActive="active" class="button3" [matBadge]="getNotiLength()" matBadgePosition="after" matBadgeColor="accent" [matBadgeHidden]="hidden" (click)="refreshNotifications()" [matMenuTriggerFor]="menu">  
                    <span class="icon-noti"><i class="fas fa-bell"></i></span>
                </button>
                <mat-menu class="pad" #menu="matMenu">
                    <div class="gris">Notificaciones</div>
                    <div *ngFor="let i of notis; let j = index">
                        <button mat-menu-item (click)="passItem(i)" routerLink="inventario">
                            <mat-icon class="rojo" *ngIf="i.nivelInventario == 'Sin Inventario'">error</mat-icon>
                            <mat-icon class="amarillo" *ngIf="i.nivelInventario == 'Bajo'">remove_circle</mat-icon>
                            <mat-icon class="naranja" *ngIf="i.nivelInventario == 'Muy Bajo'">info</mat-icon>
                                <span>El inventario de <span class="i-nombre">{{i.nombre}}</span> se encuentra en nivel {{i.nivelInventario}}.</span>
                        </button>
                        <div *ngIf="getNotiLength() != j" class="separator"></div>
                    </div>

                    <div mat-menu-item *ngIf="getNotiLength() == 0">
                        <mat-icon class="verde">check_circle</mat-icon>
                        <span>No hay nuevas notificaciones.</span>
                    </div>
                </mat-menu>
            </li>

            <li class="nav-item inner-nav-buttons">
                <button type="button" routerLink="perfil" routerLinkActive="active" class="button">
                    <span class="icon"><i class="fas fa-user"></i></span>
                    <span class="text">Perfil</span>
                </button>
            </li>

            <li *ngIf="isAdmin == 'Admin'" class="nav-item inner-nav-buttons">
                <button type="button" routerLink="admin" routerLinkActive="active" class="button">
                    <span class="icon"><i class="fas fa-lock"></i></span>
                    <span class="text">Admin</span>
                </button>
            </li>


        </ul>

        <ul class="navbar-nav" id="outer-nav-buttons">
            <li class="nav-item inner-nav-buttons">
                <button type="button" routerLink="resumen" routerLinkActive="active" class="button2">
                    <span class="icon3"><i class="fas fa-chart-line"></i></span>
                    <span class="text">Resúmen</span>
                </button>
            </li>

            <li class="nav-item inner-nav-buttons">
                <button type="button" routerLink="clientes" routerLinkActive="active" class="button2">
                    <span class="icon2"><i class="fas fa-users"></i></span>
                    <span class="text">Clientes</span>
                </button>
            </li>

            <li class="nav-item inner-nav-buttons">
                <button type="button" routerLink="proveedores" routerLinkActive="active" class="button2">
                    <span class="icon2"><i class="fas fa-truck"></i></span>
                    <span class="text">Proveedores</span>
                </button>
            </li>

            <li class="nav-item inner-nav-buttons">
                <button type="button" routerLink="inventario" routerLinkActive="active" class="button2">
                    <span class="icon3"><i class="fas fa-wrench"></i></span>
                    <span class="text">Inventario</span>
                </button>
            </li>

            <li *ngIf="isAdmin == 'Admin'" class="nav-item inner-nav-buttons">
                <button type="button" routerLink="historial" routerLinkActive="active" class="button2">
                    <span class="icon2"><i class="fas fa-clock"></i></span>
                    <span class="text">Historial</span>
                </button>
            </li>
        </ul>
    </div>
</nav>

<router-outlet></router-outlet>